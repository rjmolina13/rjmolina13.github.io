/* Advanced Morphing Gradient Backdrop for Home Page */
/* Based on gradients-bg-main implementation */

/* CSS Variables for gradient colors aligned with QuizWhiz theme */
:root {
    --gradient-color-bg1: rgb(120, 150, 255); /* Enhanced brightness */
    --gradient-color-bg2: rgb(140, 90, 200); /* Enhanced brightness */
    --gradient-color1: 120, 150, 255; /* Enhanced brightness */
    --gradient-color2: 160, 110, 255; /* Enhanced brightness */
    --gradient-color3: 80, 150, 255; /* Enhanced brightness */
    --gradient-color4: 30, 200, 150; /* Enhanced brightness */
    --gradient-color5: 255, 180, 30; /* Enhanced brightness */
    --gradient-color-interactive: 160, 120, 255; /* Enhanced brightness */
    --gradient-circle-size: 80%; /* Increased size for better visibility */
    --gradient-blending: multiply; /* Less GPU-intensive than hard-light */
    --gradient-blur-amount: 35px; /* Increased blur for more visible blending */
    --gradient-animation-duration: 40s; /* Slower animations for less GPU usage */
}

/* Keyframe animations for morphing gradients */
@keyframes moveInCircle {
    0% {
        transform: rotate3d(0, 0, 1, 0deg);
    }
    50% {
        transform: rotate3d(0, 0, 1, 180deg);
    }
    100% {
        transform: rotate3d(0, 0, 1, 360deg);
    }
}

@keyframes moveVertical {
    0% {
        transform: translate3d(0, -50%, 0);
    }
    50% {
        transform: translate3d(0, 50%, 0);
    }
    100% {
        transform: translate3d(0, -50%, 0);
    }
}

@keyframes moveHorizontal {
    0% {
        transform: translate3d(-50%, -10%, 0);
    }
    50% {
        transform: translate3d(50%, 10%, 0);
    }
    100% {
        transform: translate3d(-50%, -10%, 0);
    }
}

/* Full page gradient background */
body {
    position: relative;
    overflow: hidden; /* Prevent both horizontal and vertical scrolling from gradient */
}

/* Ensure app container doesn't overflow */
.app-container {
    overflow-x: hidden;
    overflow-y: auto;
    max-width: 100vw;
    max-height: 100vh;
}

/* Hero section with gradient background */
.hero-section {
    position: relative;
    min-height: 100vh;
    align-items: center;
    justify-content: center;
}

/* Main gradient background container - covers entire page */
.gradient-bg {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: -1;
    background: linear-gradient(40deg, var(--gradient-color-bg1), var(--gradient-color-bg2));
    opacity: 0.5; /* Significantly increased for maximum visibility */
    transition: opacity 0.3s ease;
    overflow: hidden; /* Prevent gradient elements from causing page overflow */
}

body:hover .gradient-bg {
    opacity: 0.6; /* Significantly increased for maximum visibility */
}

/* SVG filter for goo effect */
.gradient-bg svg {
    position: fixed;
    top: 0;
    left: 0;
    width: 0;
    height: 0;
    pointer-events: none;
}

/* Gradients container with optimized blur filter */
.gradients-container {
    filter: blur(var(--gradient-blur-amount));
    width: 100%;
    height: 100%;
    position: relative;
    contain: layout style paint;
    will-change: transform; /* Changed from filter to reduce GPU load */
    transform: translateZ(0); /* Force hardware acceleration with minimal cost */
    overflow: hidden; /* Ensure gradient circles stay within bounds */
    max-width: 100vw;
    max-height: 100vh;
}

/* Individual gradient circles - optimized for GPU performance */
.g1 {
    position: absolute;
    background: radial-gradient(circle at center, rgba(var(--gradient-color1), 1) 0, rgba(var(--gradient-color1), 0) 50%) no-repeat;
    mix-blend-mode: var(--gradient-blending);
    width: var(--gradient-circle-size);
    height: var(--gradient-circle-size);
    top: calc(50% - var(--gradient-circle-size) / 2);
    left: calc(50% - var(--gradient-circle-size) / 2);
    transform-origin: center center;
    animation: moveVertical var(--gradient-animation-duration) ease infinite;
    opacity: 1; /* Maximum opacity for visibility */
    will-change: transform;
    contain: strict; /* Stricter containment for better performance */
    backface-visibility: hidden;
    transform: translateZ(0); /* Ensure hardware acceleration */
}

.g2 {
    position: absolute;
    background: radial-gradient(circle at center, rgba(var(--gradient-color2), 1) 0, rgba(var(--gradient-color2), 0) 50%) no-repeat;
    mix-blend-mode: var(--gradient-blending);
    width: var(--gradient-circle-size);
    height: var(--gradient-circle-size);
    top: calc(50% - var(--gradient-circle-size) / 2);
    left: calc(50% - var(--gradient-circle-size) / 2);
    transform-origin: calc(50% - 300px); /* Reduced transform distance */
    animation: moveInCircle calc(var(--gradient-animation-duration) * 0.5) reverse infinite;
    opacity: 1; /* Maximum opacity for visibility */
    will-change: transform;
    contain: strict;
    backface-visibility: hidden;
    transform: translateZ(0);
}

.g3 {
    position: absolute;
    background: radial-gradient(circle at center, rgba(var(--gradient-color3), 0.9) 0, rgba(var(--gradient-color3), 0) 50%) no-repeat;
    mix-blend-mode: var(--gradient-blending);
    width: calc(var(--gradient-circle-size) * 0.8); /* Smaller size */
    height: calc(var(--gradient-circle-size) * 0.8);
    top: calc(50% - var(--gradient-circle-size) * 0.4 + 50px); /* Further reduced movement */
    left: calc(50% - var(--gradient-circle-size) * 0.4 - 150px); /* Reduced offset */
    transform-origin: calc(50% + 200px); /* Further reduced transform distance */
    animation: moveInCircle var(--gradient-animation-duration) linear infinite;
    opacity: 0.95; /* Near maximum opacity for visibility */
    will-change: transform;
    contain: strict;
    backface-visibility: hidden;
    transform: translateZ(0);
}

.g4 {
    position: absolute;
    background: radial-gradient(circle at center, rgba(var(--gradient-color4), 0.8) 0, rgba(var(--gradient-color4), 0) 50%) no-repeat;
    mix-blend-mode: var(--gradient-blending);
    width: calc(var(--gradient-circle-size) * 0.7); /* Smaller size */
    height: calc(var(--gradient-circle-size) * 0.7);
    top: calc(50% - var(--gradient-circle-size) * 0.35);
    left: calc(50% - var(--gradient-circle-size) * 0.35);
    transform-origin: calc(50% - 150px); /* Reduced transform distance */
    animation: moveHorizontal var(--gradient-animation-duration) ease infinite;
    opacity: 0.9; /* Enhanced opacity for visibility */
    will-change: transform;
    contain: strict;
    backface-visibility: hidden;
    transform: translateZ(0);
}

.g5 {
    position: absolute;
    background: radial-gradient(circle at center, rgba(var(--gradient-color5), 0.8) 0, rgba(var(--gradient-color5), 0) 50%) no-repeat;
    mix-blend-mode: var(--gradient-blending);
    width: var(--gradient-circle-size); /* Reduced from 2x size */
    height: var(--gradient-circle-size);
    top: calc(50% - var(--gradient-circle-size) / 2);
    left: calc(50% - var(--gradient-circle-size) / 2);
    transform-origin: calc(50% - 200px) calc(50% + 50px); /* Further reduced transform distance */
    animation: moveInCircle calc(var(--gradient-animation-duration) * 0.5) ease infinite;
    opacity: 0.95; /* Enhanced opacity for visibility */
    will-change: transform;
    contain: strict;
    backface-visibility: hidden;
    transform: translateZ(0);
}

/* Interactive gradient that follows mouse - GPU optimized */
.interactive {
    position: absolute;
    background: radial-gradient(circle at center, rgba(var(--gradient-color-interactive), 0.9) 0, rgba(var(--gradient-color-interactive), 0) 50%) no-repeat;
    mix-blend-mode: var(--gradient-blending);
    width: 60%; /* Further reduced size to prevent overflow */
    height: 60%;
    top: -30%; /* Reduced negative positioning */
    left: -30%;
    opacity: 0.95; /* Enhanced for maximum visibility */
    pointer-events: none;
    will-change: transform;
    contain: strict;
    backface-visibility: hidden;
    transform: translate3d(0, 0, 0);
    /* Ensure it stays within bounds */
    max-width: 100vw;
    max-height: 100vh;
}

/* Enhanced hero content with backdrop */
.hero-content {
    position: relative;
    z-index: 1;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-radius: 20px;
    padding: 3rem;
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
    margin-top: 8vh;    
}

.hero-content:hover {
    transform: translateY(-5px);
    background: rgba(255, 255, 255, 0.15);
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
}

/* Dark theme adjustments */
@media (prefers-color-scheme: dark) {
    .hero-content {
        background: rgba(20, 20, 20, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    .hero-content:hover {
        background: rgba(20, 20, 20, 0.15);
    }
    
    .gradient-bg {
        opacity: 0.12;
    }
    
    body:hover .gradient-bg {
        opacity: 0.18;
    }
    
    :root {
        --gradient-color-bg1: rgb(30, 30, 60);
        --gradient-color-bg2: rgb(60, 30, 90);
    }
}

/* Responsive design */
@media (max-width: 768px) {
    .hero-content {
        padding: 2rem;
        margin: 1rem;
        backdrop-filter: blur(15px);
        -webkit-backdrop-filter: blur(15px);
    }
    
    .gradient-bg {
        opacity: 0.1;
    }
    
    body:hover .gradient-bg {
        opacity: 0.15;
    }
    
    :root {
        --gradient-circle-size: 60%;
    }
}

/* Aggressive performance optimizations for mobile and low-end devices */
@media (max-width: 1024px), (pointer: coarse), (max-device-width: 1024px) {
    :root {
        --gradient-blur-amount: 15px; /* Further reduced blur */
        --gradient-animation-duration: 60s; /* Much slower animations */
        --gradient-circle-size: 50%; /* Smaller circles */
    }
    
    .gradients-container {
        filter: blur(15px); /* Remove goo filter completely */
    }
    
    /* Hide some gradients on mobile to save GPU */
    .g4, .g5 {
        display: none;
    }
    
    .interactive {
        width: 60%;
        height: 60%;
        opacity: 0.3;
    }
}

/* Ultra-low performance mode for very weak devices */
@media (max-width: 480px) {
    :root {
        --gradient-blur-amount: 10px;
        --gradient-animation-duration: 80s;
        --gradient-circle-size: 40%;
    }
    
    .g3 {
        display: none; /* Hide additional gradient */
    }
    
    .gradients-container {
        filter: blur(10px);
    }
}

/* Reduced motion accessibility */
@media (prefers-reduced-motion: reduce) {
    .g1, .g2, .g3, .g4, .g5 {
        animation: none !important;
        transform: translate3d(0, 0, 0) !important;
    }
    
    .gradient-bg {
        opacity: 0.05;
    }
    
    .interactive {
        transform: translate3d(0, 0, 0) !important;
    }
}